image:
  repository: "ghcr.io/szpadel/codex-gitlab-review"
  tag: "latest"
  pullPolicy: Always

service:
  port: 8080

resources: {}

serviceAccount:
  create: true
  name: ""

persistence:
  # Persistent storage is required for auth.json and state.
  size: 1Gi
  storageClass: ""

config:
  schedule:
    cron: "0 * * * * *"
    timezone: "UTC"
  review:
    maxConcurrent: 2
    eyesEmoji: "eyes"
    thumbsEmoji: "thumbsup"
    commentMarkerPrefix: "<!-- codex-review:sha="
    staleInProgressMinutes: 120
    dryRun: false
  codex:
    image: "ghcr.io/openai/codex-universal:latest"
    timeoutSeconds: 1800
    # Leave empty to default to authMountPath.
    authHostPath: ""
    authMountPath: "/root/.codex"
    execSandbox: "danger-full-access"
  docker:
    host: "unix:///var/run/docker.sock"
  server:
    bindAddr: "0.0.0.0:8080"
  proxy:
    httpProxy: "http://localhost:3128"
    httpsProxy: "http://localhost:3128"
    noProxy: "localhost,127.0.0.1,.svc,.cluster.local"

gitlab:
  baseUrl: "https://gitlab.example.com"
  targets:
    repos: []
    groups: []
    excludeRepos: []
    excludeGroups: []
    refreshSeconds: 3600
  botUserId: ""
  createdAfter: ""
  token:
    existingSecret: ""
    secretKey: "token"
    value: ""

codexAuth:
  # Required. Secret must contain auth.json (or alternate key via secretKey).
  # To rotate credentials, delete auth.json from the PVC (or recreate the PVC) so it can be re-seeded.
  existingSecret: ""
  secretKey: "auth.json"

codexToml: ""

proxy:
  enabled: true
  image: "ubuntu/squid:5.2-22.04_beta"
  port: 3128
  allowedHosts: []
  extraConfig: ""
  command: []
  args: []
  resources: {}

dind:
  image: "docker:dind"
  resources: {}

networkPolicy:
  enabled: false
  allowedNamespaces: []
  allowedIPs: []
